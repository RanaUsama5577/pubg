<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,minimal-ui">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <title>Pubg</title>
    <link rel="apple-touch-icon" href="mon.png">
    <link rel="shortcut icon" type="image/x-icon" href="mon.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500;1,600" rel="stylesheet">
    <!-- BEGIN: Vendor CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/charts/apexcharts.css">
    <link rel="stylesheet" type="text/css" href="app-assets/vendors/css/extensions/toastr.min.css">
    <!-- END: Vendor CSS-->
    <!-- BEGIN: Theme CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/bootstrap-extended.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/colors.min.css">

    <link rel="stylesheet" type="text/css" href="app-assets/css/themes/dark-layout.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/themes/bordered-layout.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/themes/semi-dark-layout.min.css">
    <!-- BEGIN: Page CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/css/core/menu/menu-types/vertical-menu.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/pages/dashboard-ecommerce.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/plugins/charts/chart-apex.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/plugins/extensions/ext-component-toastr.min.css">
    <!-- END: Page CSS-->
    <!-- BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="app-assets/css/components.min.css">
    <link rel="stylesheet" type="text/css" href="app-assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <link href="app-assets/css/custom.css" rel="stylesheet" />
    <!-- END: Custom CSS-->
    <!-- BEGIN: Vendor JS-->
    <script src="app-assets/vendors/js/vendors.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-messaging.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCflSdGQneIyOETiSh5jtyCSZ6ttuk9-Xg",
            authDomain: "cgameapp-ac1d4.firebaseapp.com",
            projectId: "cgameapp-ac1d4",
            storageBucket: "cgameapp-ac1d4.appspot.com",
            messagingSenderId: "234317930737",
            appId: "1:234317930737:web:f9031afe9d4ebc8bc94950",
            measurementId: "G-GD20RQP04Y"
            };
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);;
        const db = firebase.firestore();
    </script>


    <!-- BEGIN Vendor JS-->
    <style>
        .header-navbar.floating-nav {
            width: 100%;
        }

        .header-navbar.floating-nav {
            width: calc(100vw - (100vw - 100%) - calc(2rem * 2));
        }

        .header-navbar.floating-nav {
            position: fixed;
            right: 0;
            margin: 0;
            width: 100%;
            border-radius: 0px;
            z-index: 12;
        }

        html .content {
            margin-left: 0px;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu-content .sidebar-user .sidebar-user-details {
            display: block;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navigation-header span {
            display: none;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navbar-header .navbar-nav .nav-item .navbar-brand .brand-logo .mini-logo {
            display: block !important;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu:not(.expanded) .navbar-header .navbar-nav .nav-item .navbar-brand .brand-logo .logo-large {
            display: none;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .navbar-nav .nav-item .navbar-brand .brand-logo .logo-large {
            display: block;
        }

        .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .modern-nav-toggle, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu .navbar-header .brand-text, .vertical-layout.vertical-menu-modern.menu-collapsed .main-menu-content:not(.expanded) .sidebar-user .sidebar-user-details {
            display: none;
        }
    </style>
</head>
<!-- END: Head-->
<!-- BEGIN: Body-->
<body class="vertical-layout vertical-menu-modern  navbar-floating footer-static  " data-open="click" data-menu="vertical-menu-modern" data-col="">
    <!-- BEGIN: Header-->
    <nav class="header-navbar navbar navbar-expand-lg align-items-center floating-nav navbar-light navbar-shadow" style=" background-color: #1d1c1a;">
        <div class="navbar-container d-flex content" style="padding: 0.8rem 4rem;">
            <div class="bookmark-wrapper d-flex align-items-center">
                <ul class="nav navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" style=" padding-left: 0;" href="@Url.Action("Index","Home")">
                            <img src="mon.png" style="width: 73px;" />
                        </a>
                    </li>
                </ul>
            </div>
            <ul class="nav navbar-nav align-items-center ml-auto">
                
            </ul>
        </div>
    </nav>
    <!-- END: Header-->
    <!-- BEGIN: Content-->
    <div class="app-content content">
        <div class="content-overlay"></div>
        <div class="header-navbar-shadow"></div>
        <div class="content-wrapper">
            <div class="content-body" style="padding: 58px 28px;">
                <section>
                    <div class="row" style="justify-content:center;">
                        <div class="col-md-10">
                            <div class="card">
                                <div class="card-header">
                                    <h3>Add Competitions</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="header">Header</label>
                                                <input type="text" id="header" class="form-control" maxlength="60">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Short Description</label>
                                                <input type="text" id="shortDescription" class="form-control" maxlength="60">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Description</label>
                                                <textarea class="form-control" rows="2" id="description"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Start Date</label>
                                                <input type="datetime-local" id="startDate" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>End Date</label>
                                                <input type="datetime-local" id="endDate" class="form-control">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Entry Fee</label>
                                                <input type="text" id="entryFee" class="form-control number_valid" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Reward</label>
                                                <input type="text" id="reward" class="form-control number_valid" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Reward Type</label>
                                                <select class="form-control" id="rewardType">
                                                    <option value="GIFT_CARD">GIFT CARD</option>
                                                    <option value="CGAME_COINS">Coins</option>
                                                    <option value="UC_MONEY">UC Money</option>
                                                    <option value="CASH">Cash</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Competition Type</label>
                                                <select class="form-control" id="type">
                                                    <option value="MOST_KILLS">MOST KILLS</option>
                                                    <option value="MOST_HEADSHOTS">MOST HEAD SHOTS</option>
                                                    <option value="MOST_CHICKEN_DINNERS">MOST CHICKEN DINNERS</option>
                                                    <option value="MOST_GRENADE_KILLS">MOST GRENADE KILLS</option>
                                                    <option value="MOST_TOTAL_KILLS">MOST TOTAL KILLS </option>
                                                    <option value="SOLO_TARGET_CHICKENDINNER">SOLO TARGET CHICKEN DINNER </option>
                                                    <option value="SOLO_TARGET_HEADSHOTS">SOLO TARGET HEAD SHOTS</option>
                                                    <option value="SOLO_TARGET_KILLS">SOLO TARGET KILLS</option>
                                                    <option value="H2H_MOST_KILLS">H2H MOST KILLS</option>
                                                    <option value="H2H_MOST_HEADSHOTS">H2H MOST HEAD SHOTS</option>
                                                    <option value="H2H_FASTEST_FIRST_KILL">H2H FASTEST FIRST KILL</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Map Name</label>
                                                <select class="form-control" id="mapName">
                                                    <option value="Livik">Livik</option>
                                                    <option value="Erangel">Erangel</option>
                                                    <option value="Miramar">Miramar</option>
                                                    <option value="Sanhok">Sanhok</option>
                                                    <option value="Karakin">Karakin</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Target</label>
                                                <input type="text" id="target" class="form-control number_valid" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Max Attempts</label>
                                                <input type="text" id="maxAttempts" class="form-control number_valid" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Team Size Mode</label>
                                                <select class="form-control" id="teamSizeMode">
                                                    <option value="Solo">Solo</option>
                                                    <option value="Duo">Duo</option>
                                                    <option value="Squad">Squad</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Rank</label>
                                                <select class="form-control" id="rank">
                                                    <option value="Bronze">Bronze </option>
                                                    <option value="Silver">Silver</option>
                                                    <option value="Gold">Gold</option>
                                                    <option value="Platinum">Platinum</option>
                                                    <option value="Diamond">Diamond</option>
                                                    <option value="Master">Master</option>
                                                    <option value="Grandmaster">Grandmaster</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Max Participants</label>
                                                <input type="text" id="maxParticipants" class="form-control number_valid" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>State</label>
                                                <select class="form-control" id="state">
                                                    <option value="0">PUBLIC  </option>
                                                    <option value="1">BY TOKEN </option>
                                                    <option value="2">PERSONAL</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Partner</label>
                                                <input type="text" id="partner" class="form-control" maxlength="10">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Recurring</label>
                                                <input type="checkbox" id="recurring">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer" style="text-align: end;">
                                    <button onclick="SaveCompetition()" id="add_btn" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <!-- END: Content-->
    <div class="sidenav-overlay"></div>
    <div class="drag-target"></div>
    <!-- BEGIN: Page Vendor JS-->
    <script src="app-assets/vendors/js/extensions/toastr.min.js"></script>
    <!-- END: Page Vendor JS-->
    <!-- BEGIN: Theme JS-->
    <script src="app-assets/js/core/app-menu.min.js"></script>
    <script src="app-assets/js/core/app.min.js"></script>
    <script src="app-assets/js/scripts/customizer.min.js"></script>
    <!-- END: Theme JS-->
    <!-- BEGIN: Page JS-->
    <script src="app-assets/js/custom.js"></script>
    <!-- END: Page JS-->
    <script>
        $(window).on('load', function () {
            if (feather) {
                feather.replace({ width: 14, height: 14 });
            }
        })
    </script>

    <script>
        function SaveCompetition(){
            var header = $('#header').val();
            var maxParticipants = $('#maxParticipants').val();
            var rank = $('#rank').val();
            var teamSizeMode = $('#teamSizeMode').val();
            var maxAttempts = $('#maxAttempts').val();
            var target = $('#target').val();
            var type = $('#type').val();
            var rewardType = $('#rewardType').val();
            var reward = $('#reward').val();
            var entryFee = $('#entryFee').val();
            var endDate = $('#endDate').val();
            var startDate = $('#startDate').val();
            var shortDescription = $('#shortDescription').val();
            var partner = $('#partner').val();
            var recurring = document.getElementById('recurring').checked;

            var start_Date = new Date(startDate);
            var end_Date = new Date(endDate);
            
            if(!header.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter header value","warning");
                return false;
            }
            if(!maxParticipants.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Max Participants","warning");
                return false;
            }
            if(!maxAttempts.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Max Attempts","warning");
                return false;
            }
            if(!target.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Target","warning");
                return false;
            }
            if(!reward.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Reward","warning");
                return false;
            }
            if(!entryFee.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Entry Fee","warning");
                return false;
            }
            if(!shortDescription.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Short Description","warning");
                return false;
            }
            if(!partner.replace(/\s/g, '').length){
                sweetMessage("Warning!","Please enter Partner","warning");
                return false;
            }
            if(start_Date < new Date()){
                sweetMessage("Warning!","Start date cannot be smaller than todays date","warning");
                return false;
            }
            if(end_Date < start_Date){
                sweetMessage("Warning!","End date cannot be smaller than end date","warning");
                return false;
            }
            $('add_btn').addClass("btn-progress");
            db.collection("competitions").doc(header).set({
                header:header,
                maxParticipants:parseInt(maxParticipants),
                rank:rank,
                teamSizeMode:teamSizeMode,
                maxAttempts:parseInt(maxAttempts),
                target:parseInt(target),
                type:type,
                rewardType:rewardType,
                reward:parseInt(reward),
                entryFee:parseInt(entryFee),
                endDate:end_Date,
                startDate:start_Date,
                shortDescription:shortDescription,
                partner:partner,
                recurring:recurring,
            })
            .then(function(){
                TimerSweet("Success!","Saved Successfully","success",2000);
                setTimeout(function(){
                    location.reload();
                },2000);
            })
            .catch(function(error){
                console.log(error);
            })

        }
    </script>


</body>
<!-- END: Body-->
</html>